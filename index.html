<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>توزيع الحجاج - إحصائيات</title>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Cairo', sans-serif;
            background-color: #f4f7f4;
            margin: 0;
            padding: 0;
            color: #333;
            line-height: 1.8;
        }

        .hero {
            background: linear-gradient(rgba(0,0,0,0.65), rgba(0,0,0,0.75)), 
                        url('https://upload.wikimedia.org/wikipedia/commons/thumb/d/d4/Makkah_-_Masjid_al-Haram.jpg/1280px-Makkah_-_Masjid_al-Haram.jpg'),
                        #1b5e20;
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            height: 450px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            text-align: center;
            padding: 20px;
        }

        .hero h1 { font-size: 3rem; margin: 0; text-shadow: 2px 2px 10px rgba(0,0,0,0.5); }
        .hero p { font-size: 1.3rem; max-width: 800px; margin-top: 15px; opacity: 0.9; }

        .container {
            max-width: 1000px;
            margin: -60px auto 50px;
            padding: 0 20px;
        }

        .intro-card {
            background: white;
            border-radius: 15px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.08);
            text-align: center;
        }

        .intro-card h2 { color: #1b5e20; font-size: 2rem; margin-bottom: 20px; border:none;}

        .quote-box {
            background: #f1f8f1;
            border-right: 5px solid #c5a059;
            padding: 25px;
            margin: 30px 0;
            font-size: 1.2rem;
            font-weight: bold;
            color: #1b5e20;
            border-radius: 0 10px 10px 0;
        }

        .card {
            background: white;
            border-radius: 15px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.08);
        }

        h3 { color: #1b5e20; border-right: 6px solid #c5a059; padding-right: 15px; margin-bottom: 25px; }
        
        .grid { display: flex; flex-wrap: wrap; gap: 40px; align-items: center; }
        .text-part { flex: 1.2; min-width: 300px; }
        .chart-part { flex: 1; min-width: 300px; position: relative; min-height: 250px; }

        .conclusion-card {
            background: linear-gradient(135deg, #1b5e20, #154618);
            color: white;
            border-radius: 15px;
            padding: 40px;
            margin-top: 50px;
            text-align: center;
        }

        footer { text-align: center; padding: 40px; color: #666; font-size: 0.9rem; }
        
        canvas { width: 100% !important; height: auto !important; }
    </style>
</head>
<body>

<div class="hero">
    <h1>توزيع الحجاج</h1>
    <p>قراءة سكانية لمستقبل إدارة الحشود في ضوء رؤية المملكة 2030</p>
</div>

<div class="container">
    
    <div class="intro-card">
        <h2>مستقبل الوظائف والخدمات في الحج</h2>
        <p>تعد رحلة الحجاج اليوم قصة نجاح سعودية بامتياز، حيث انتقلت إدارة أكبر تجمع بشري في العالم من التنظيم الميداني إلى الإدارة الرقمية الذكية.</p>
        <div class="quote-box">
            "خدمة الحرمين الشريفين شرف نعتز به، وقرارنا الدائم هو تذليل كافة الصعاب لراحة ضيوف الرحمن"
        </div>
        <p>تسعى هذه القراءة الإحصائية إلى تحليل واقع توزيع الحجاج، وتطور أعداد القادمين، وإبراز دور التقنية في تحسين تجربتهم.</p>
    </div>

    <div class="card">
        <h3>1. توزيع الحجاج حسب جهة القدوم</h3>
        <div class="grid">
            <div class="text-part">
                <p>تستقبل المملكة الحجاج من أكثر من 160 دولة. يوضح الرسم البياني تفوق نسبة القادمين من الخارج بنسبة 90%.</p>
            </div>
            <div class="chart-part">
                <canvas id="hajPieChart"></canvas>
            </div>
        </div>
    </div>

    <div class="card">
        <h3>2. التطور العددي والنمو الاستيعابي</h3>
        <div class="grid">
            <div class="text-part">
                <p>تعكس أعداد الحجاج المتصاعدة كفاءة البنية التحتية والمشاريع العملاقة مثل توسعة الحرمين الشريفين وتطوير قطار المشاعر.</p>
            </div>
            <div class="chart-part">
                <canvas id="hajLineChart"></canvas>
            </div>
        </div>
    </div>

    <div class="conclusion-card">
        <p>ختاماً، إن الأرقام والإحصائيات تؤكد أن تمكين التقنية في خدمة الحجاج جعل المملكة نموذجاً عالمياً يُحتذى به في إدارة الحشود السكانية الكبرى.</p>
    </div>

</div>

<footer>
    تم إعداد هذا المشروع بناءً على المؤشرات الإحصائية الرسمية لوزارة الحج والعمرة 2026
</footer>

<script>
    // ضمان تشغيل الكود بعد تحميل المكتبات
    window.onload = function() {
        Chart.register(ChartDataLabels);

        // الرسم الدائري
        const ctxPie = document.getElementById('hajPieChart');
        if(ctxPie) {
            new Chart(ctxPie, {
                type: 'doughnut',
                data: {
                    labels: ['حجاج الخارج', 'حجاج الداخل'],
                    datasets: [{
                        data: [90, 10],
                        backgroundColor: ['#1b5e20', '#c5a059']
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        datalabels: {
                            color: '#fff',
                            formatter: (v) => v + '%',
                            font: { weight: 'bold', size: 16 }
                        }
                    }
                }
            });
        }

        // الرسم الخطي
        const ctxLine = document.
